# articleStore

This is the server application related to articles which serves following endpoints:
1) POST /articles:
	To store the article in the application server
2) GET /articles/{id}:
	To fetch the article based on id of the article
3) GET /tags/{tagName}/{date} :
	To fetch below data based on given tagName and date:

	1) The related_tags field contains a list of tags that are on the articles that the current tag is on for the same day. It should not contain duplicates.

	2) The count field shows the number of tags for the tag for that day.

	3) The articles field contains a list of ids for the last 10 articles entered for that day.

Please refer yaml/articles.yaml for OpenAPI definition of these endpoints.

## Installation

```
go get github.com/aditimittal15/goprojects
or
git clone https://github.com/aditimittal15/goprojects
```
## Development environment:
1) OS: Linux
2) Software: GO (version 1.13.4)

## Prerequisites based on development environment:
1) OS: Linux
2) Software: GO (version 1.13.4 or newer)

## Assumptions:
1) Sqlite3 is taken as backend Database
2) Article id is unique and generated by Application server
3) Server currently works on HTTP protocol
4) HTTPS/HTTP2.0 currently not supported

## Build instructions:
Follow below steps th build the server executable file.

```sh
$ cd $GOPATH/src/goprojects/articleStore/build
$ make get
$ make clean;make all
```
By above steps, application executable file "articleStore" will be created at path:
$GOPATH/src/goprojects/articleStore/app/bin/

## Execution steps:
Follow below steps to execute/run the application in background:

```sh
$ cd $GOPATH/src/goprojects/articleStore/app/bin/
$ ./articleStore &
```
## Test Steps:
Below are commands for test execution of articleStore/server/handler package

```sh
$ cd $GOPATH/src/goprojects/articleStore/server/handler
$ go test
```

## Sample curl requests:
1) POST /articles
```sh
curl -X POST "http://localhost:8080/articles" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"id\":\"1\",\"title\":\"latest science shows that potato chips are better for you than sugar\",\"date\":\"2016-09-22\",\"body\":\"some text, potentially containing simple markup about how potato chips are great\",\"tags\":[\"health\",\"fitness\",\"science\"]}"
```
2) GET /articles/{id}
```sh
curl -X GET "http://localhost:8080/articles/1" -H "accept: application/problem+json"

```
3) GET /tags/{tagName}/{date}
```sh
curl -X GET "http://localhost:8080/tags/health/20160922" -H "accept: application/problem+json"

```

##Further possible enhancements:

1) mysql/postgreSQLcan be used instead of sqlite3 for advanced db features.
2) HTTPS/HTTP2.0 support can be add
3) Further test cases to be added for increased coverage 


